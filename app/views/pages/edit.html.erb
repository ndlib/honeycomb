<% page_title(@page.name, @page.collection) %>
<%= collection_nav(@page.collection, :pages) %>
<%= back_action_bar(collection_pages_path(@page.collection)) %>

<div class="row">
  <h1><%= @page.name %></h1>
  <%= react_component 'PageForm', {
    id: @page.collection.unique_id,
    page: @page,
    previewUrl: CreateBeehiveURL.call(@page),
    authenticityToken: form_authenticity_token,
    objectType: 'page',
     } %>
  <div class="row col-md-12">
    <div class="">
      <%= simple_form_for @page, :html => { :class => 'form-horizontal' } do |f| %>
        <%= render partial: 'form', locals: { f: f } %>
        <%= f.button :submit, "Save", class: 'btn btn-primary' %>
      <% end %>
    </div>
    <%= DeletePanel.new(@page).display(PageQuery.new(@page)) %>
  </div>
</div>
